<h2>Profiles</h2>

<!-- Add New Profile Form -->
<form (ngSubmit)="addProfile()" #profileForm="ngForm">
  <label for="name">Name:</label>
  <input
    type="text"
    id="name"
    name="name"
    [(ngModel)]="newProfile.name"
    required
  />

  <label for="email">Email:</label>
  <input
    type="email"
    id="email"
    name="email"
    [(ngModel)]="newProfile.email"
    required
  />

  <label for="image">Profile Picture:</label>
  <input
    type="file"
    id="image"
    name="image"
    (change)="onFileSelected($event)"
    accept="image/*"
  />

  <button type="submit" [disabled]="!profileForm.form.valid">
    Add Profile
  </button>
</form>

<!-- Display Existing Profiles -->
<ul>
  <li *ngFor="let profile of profiles">
    <img
      *ngIf="profile.image"
      [src]="'data:image/jpeg;base64,' + profile.image"
      alt="{{ profile.name }}"
      width="100"
    />
    {{ profile.name }} - {{ profile.email }}
    <button (click)="deleteProfile(profile.id)">Delete</button>
  </li>
</ul>
